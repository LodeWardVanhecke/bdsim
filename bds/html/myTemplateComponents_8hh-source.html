<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BDS: include/myTemplateComponents.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a></div>
<h1>myTemplateComponents.hh</h1><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment"> * Merlin C++ Class Library for Charged Particle Accelerator Simulations</span>
00003 <span class="comment"> * </span>
00004 <span class="comment"> * Class library version 2.0 (1999)</span>
00005 <span class="comment"> * </span>
00006 <span class="comment"> * file AcceleratorModel\StdComponent\TemplateComponents.h</span>
00007 <span class="comment"> * last modified 22/04/99 13:32:11</span>
00008 <span class="comment"> */</span>
00009 
00010 <span class="comment">/*</span>
00011 <span class="comment"> * This file is derived from software bearing the following</span>
00012 <span class="comment"> * restrictions:</span>
00013 <span class="comment"> *</span>
00014 <span class="comment"> * MERLIN C++ class library for </span>
00015 <span class="comment"> * Charge Particle Accelerator Simulations</span>
00016 <span class="comment"> * Copyright (c) 1999 by N.J.Walker.  ALL RIGHTS RESERVED. </span>
00017 <span class="comment"> *</span>
00018 <span class="comment"> * Permission to use, copy, modify, distribute and sell this</span>
00019 <span class="comment"> * software and its documentation for any purpose is hereby</span>
00020 <span class="comment"> * granted without fee, provided that the above copyright notice</span>
00021 <span class="comment"> * appear in all copies and that both that copyright notice and</span>
00022 <span class="comment"> * this permission notice appear in supporting documentation.</span>
00023 <span class="comment"> * No representations about the suitability of this software for</span>
00024 <span class="comment"> * any purpose is made. It is provided "as is" without express</span>
00025 <span class="comment"> * or implied warranty.</span>
00026 <span class="comment"> */</span>
00027 
00028 <span class="preprocessor">#ifndef TemplateComponents_h</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#define TemplateComponents_h 1</span>
00030 <span class="preprocessor"></span>
00031 <span class="comment">//#include "merlin_config.h"</span>
00032 
00033 
00034 <span class="comment">// AcceleratorComponent</span>
00035 <span class="preprocessor">#include "AcceleratorModel/myAcceleratorComponent.h"</span>
00036 
00037 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G&gt;
00038 <span class="keyword">class </span>TAccCompG : <span class="keyword">public</span> myAcceleratorComponent  
00039 {
00040   <span class="keyword">public</span>:
00041     <span class="keyword">typedef</span> G geom_type;
00042 
00043   <span class="keyword">public</span>:
00044       TAccCompG (<span class="keyword">const</span> string&amp; <span class="keywordtype">id</span>, G* geom, EMFieldRegion* field = 0);
00045       TAccCompG (<span class="keyword">const</span> TAccCompG&lt;G&gt;&amp; rhs);
00046 
00047 
00048       TAccCompG&lt;G&gt;&amp; operator = (<span class="keyword">const</span> TAccCompG&lt;G&gt;&amp; rhs);
00049 
00050       G&amp; GetGeometry ();
00051 
00052       <span class="keyword">const</span> G&amp; GetGeometry () <span class="keyword">const</span>;
00053 
00054   <span class="keyword">protected</span>:
00055   <span class="keyword">private</span>:
00056   <span class="keyword">private</span>:  
00057 };
00058 
00059 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G, <span class="keyword">class</span> F&gt;
00060 <span class="keyword">class </span>TAccCompGF : <span class="keyword">public</span> TAccCompG&lt;G&gt;  <span class="comment">//## Inherits: &lt;unnamed&gt;%371EF9D2010E</span>
00061 {
00062   <span class="keyword">public</span>:
00063 
00064     <span class="keyword">typedef</span> F field_type;
00065 
00066   <span class="keyword">public</span>:
00067       TAccCompGF (<span class="keyword">const</span> string&amp; <span class="keywordtype">id</span>, G* geom, F* field);
00068 
00069       TAccCompGF (<span class="keyword">const</span> TAccCompGF&lt;G,F&gt;&amp; rhs);
00070 
00071 
00072       TAccCompGF&lt;G,F&gt;&amp; operator = (<span class="keyword">const</span> TAccCompGF&lt;G,F&gt;&amp; rhs);
00073 
00074       F&amp; GetField ();
00075 
00076       <span class="keyword">const</span> F&amp; GetField () <span class="keyword">const</span>;
00077 
00078   <span class="keyword">protected</span>:
00079   <span class="keyword">private</span>:
00080   <span class="keyword">private</span>:  
00081 };
00082 
00083 <span class="comment">// Parameterized Class TAccCompG </span>
00084 
00085 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G&gt;
00086 <span class="keyword">inline</span> TAccCompG&lt;G&gt;::TAccCompG (<span class="keyword">const</span> string&amp; <span class="keywordtype">id</span>, G* geom, EMFieldRegion* field)
00087   : AcceleratorComponent(id,geom,field){}
00088 
00089 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G&gt;
00090 <span class="keyword">inline</span> G&amp; TAccCompG&lt;G&gt;::GetGeometry ()
00091 {
00092         <span class="keywordflow">return</span> static_cast&lt;G&amp;&gt;(*itsGeometry);
00093 }
00094 
00095 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G&gt;
00096 <span class="keyword">inline</span> <span class="keyword">const</span> G&amp; TAccCompG&lt;G&gt;::GetGeometry ()<span class="keyword"> const</span>
00097 <span class="keyword"></span>{
00098         <span class="keywordflow">return</span> static_cast&lt;const G&amp;&gt;(*itsGeometry);
00099 }
00100 
00101 <span class="comment">// Parameterized Class TAccCompGF </span>
00102 
00103 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G, <span class="keyword">class</span> F&gt;
00104 <span class="keyword">inline</span> TAccCompGF&lt;G,F&gt;::TAccCompGF (<span class="keyword">const</span> string&amp; <span class="keywordtype">id</span>, G* geom, F* field)
00105   : TAccCompG&lt;G&gt;(id,geom,field){}
00106 
00107 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G, <span class="keyword">class</span> F&gt;
00108 <span class="keyword">inline</span> F&amp; TAccCompGF&lt;G,F&gt;::GetField ()
00109 {
00110         <span class="keywordflow">return</span> static_cast&lt;F&amp;&gt;(*itsField);
00111 }
00112 
00113 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G, <span class="keyword">class</span> F&gt;
00114 <span class="keyword">inline</span> <span class="keyword">const</span> F&amp; TAccCompGF&lt;G,F&gt;::GetField ()<span class="keyword"> const</span>
00115 <span class="keyword"></span>{
00116         <span class="keywordflow">return</span> static_cast&lt;const F&amp;&gt;(*itsField);
00117 }
00118 
00119 <span class="comment">// Parameterized Class TAccCompG </span>
00120 
00121 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G&gt;
00122 TAccCompG&lt;G&gt;::TAccCompG (<span class="keyword">const</span> TAccCompG&lt;G&gt;&amp; rhs)
00123   : AcceleratorComponent(rhs.GetName(),new G(rhs.GetGeometry()),0){}
00124 
00125 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G&gt;
00126 TAccCompG&lt;G&gt;&amp; TAccCompG&lt;G&gt;::operator = (<span class="keyword">const</span> TAccCompG&lt;G&gt;&amp; rhs)
00127 {
00128         <span class="keywordflow">if</span>(<span class="keyword">this</span>!=&amp;rhs) {
00129                 SetName(rhs.GetName());
00130                 GetGeometry() = rhs.GetGeometry();
00131         }
00132         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00133 }
00134 
00135 <span class="comment">// Parameterized Class TAccCompGF </span>
00136 
00137 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G, <span class="keyword">class</span> F&gt;
00138 TAccCompGF&lt;G,F&gt;::TAccCompGF (<span class="keyword">const</span> TAccCompGF&lt;G,F&gt;&amp; rhs)
00139   : TAccCompG&lt;G&gt;(rhs.GetName(),new G(rhs.GetGeometry()), new F(rhs.GetField()))
00140 {}
00141 
00142 <span class="keyword">template</span> &lt;<span class="keyword">class</span> G, <span class="keyword">class</span> F&gt;
00143 TAccCompGF&lt;G,F&gt;&amp; TAccCompGF&lt;G,F&gt;::operator = (<span class="keyword">const</span> TAccCompGF&lt;G,F&gt;&amp; rhs)
00144 {
00145         <span class="keywordflow">if</span>(<span class="keyword">this</span>!=&amp;rhs) {
00146                 TAccCompG&lt;G&gt;::operator=(rhs);
00147                 GetField() = rhs.GetField();
00148         }
00149         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00150 }
00151 
00152 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 1 13:36:41 2004 for BDS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
